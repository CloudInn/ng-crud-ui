<div *ngIf="control">
    <div class="row">
        <span class="spacer"></span>
        <button mat-raised-button (click)="addForm()" class="add_btn">
            <mat-icon>add</mat-icon> Add
        </button>
    </div>
    <ng-container [formGroup]="formGroup">
        <div [formArrayName]="config.name">
            <ng-container *ngFor="let _formGroup of formArray?.controls; index as i; trackBy: trackByFn">
                <div class="row">
                    <ng-container *ngFor="let field of control.fields">
                        <ng-container *ngIf="field.isEditable">
                            <ng-crud-form-field [choices]="choices[field.name]" [mode]="mode" [formGroup]="_formGroup" [config]="field">
                            </ng-crud-form-field>
                        </ng-container>
                    </ng-container>
                </div>
                <div *ngIf="i==0" class="delete_btn" style="visibility: hidden;">
                    <a color="warn" (click)="delete(i)">Delete</a>
                </div>
                <div *ngIf="i>=1" class="delete_btn">
                    <a color="warn" (click)="delete(i)">Delete</a>
                </div>
            </ng-container>
        </div>
    </ng-container>
</div>