<div [ngSwitch]="config.type" class="form-field-wrapper" [formGroup]="formGroup">

    <div *ngSwitchCase="'boolean'">
        <mat-slide-toggle matInput
        [disabled]="!permissionsService.checkPermission(config?.permissions, mode === 'edit' ? permissionTypeEnum.update : permissionTypeEnum.read)"
        [formControlName]="config.name">{{ config.label }}</mat-slide-toggle>
    </div>

    <ng-container *ngSwitchCase="'textArea'">
        <ng-crud-text-area-field [mode]="mode" [formGroup]="formGroup" [config]="config"></ng-crud-text-area-field>
    </ng-container>

    <ng-container *ngSwitchCase="'select'">
        <ng-crud-select-field [mode]="mode" [formGroup]="formGroup" [config]="config"></ng-crud-select-field>
    </ng-container>

    <mat-form-field *ngSwitchCase="'date'">
        <mat-label>{{ config.label }}</mat-label>
        <input  matInput [formControlName]="config.name"  [matDatepicker]="myDatepicker" />
        <mat-datepicker-toggle matSuffix [for]="myDatepicker"></mat-datepicker-toggle>
        <mat-datepicker #myDatepicker></mat-datepicker>
    </mat-form-field>
    
    <ng-container *ngSwitchCase="'foreignKey'">
        <ng-crud-foreign-key-field [mode]="mode" [config]="config" [formGroup]="formGroup"></ng-crud-foreign-key-field>
    </ng-container>

    <!-- this fallsback from number and text -->
    <mat-form-field *ngSwitchDefault>
        <mat-label>{{ config.label }}</mat-label>
        <input matInput 
        [readonly]="!permissionsService.checkPermission(config?.permissions, mode === 'edit' ? permissionTypeEnum.update : permissionTypeEnum.read)" [formControlName]="config.name"
                [type]="config.control ? config.control.type : 'text'" />
    </mat-form-field>

</div>